<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestione Dipendenti</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="style.css" type="text/css" rel="stylesheet" />
</head>

<body>

    <header class="position-relative" id="hd">
        <div class="position-absolute bottom-0 start-50 translate-middle-x text-center text-light pb-4">
            <h2 class="m-0 rounded-4" id="headerDescription">
                Gestione Dipendenti
            </h2>
        </div>
    </header>

    <section class="container mt-5 mb-5 mb-4">
        <div class="row">
            <div class="col-sm-6 col-md-4 mt-3">
                <div class="card rounded-4">
                    <div class="card-body">
                        <h5 class="card-title">Piattaforma eCommerce</h5>
                        <p class="card-text">Creare un portale online per la vendita.</p>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#modalEcommerce">
                            Visualizza Info
                        </button>

                        <div class="modal fade" id="modalEcommerce" tabindex="-1" aria-labelledby="modalEcommerceLabel"
                            aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal Ecommerce</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div id="contentModalEcommerce" class="modal-body">

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-md-4  mt-3">
                <div class="card rounded-4">
                    <div class="card-body">
                        <h5 class="card-title">Sistema Gestione Dipendenti</h5>
                        <p class="card-text">Digitalizzare l'anagrafica aziendale</p>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#modalDipendenti">
                            Visualizza Info
                        </button>

                        <div class="modal fade" id="modalDipendenti" tabindex="-1"
                            aria-labelledby="modalDipendentiLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div id="contentModalDipendenti" class="modal-body">

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-md-4  mt-3">
                <div class="card rounded-4">
                    <div class="card-body">
                        <h5 class="card-title">App Mobile per Clienti</h5>
                        <p class="card-text">Migliorare l'interazione cliente-azienda</p>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalApp">
                            Visualizza Info
                        </button>

                        <div class="modal fade" id="modalApp" tabindex="-1" aria-labelledby="modalAppLabel"
                            aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div id="coontentModalApp" class="modal-body">

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>


            <div class="col-sm-6 col-md-4  mt-3">
                <div class="card rounded-4">
                    <div class="card-body">
                        <h5 class="card-title">Chatbot Intelligente</h5>
                        <p class="card-text">Creazione di un chatbot conversazionale Intelligente</p>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#modalChatbot">
                            Visualizza Info
                        </button>

                        <div class="modal fade" id="modalChatbot" tabindex="-1" aria-labelledby="modalDipendentiLabel"
                            aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div id="contentModalChatbot" class="modal-body">

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </section>


    <footer id="contatti" class="text-info  text-center py-4">
        <p>Indirizzo: Via Esempio 123, Napoli</p>
        <p>Telefono: 0123 456789 Email: info@campoestivo.it</p>
        <div class="bottom-0 end-0 p-3" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
            <svg id="adm" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="white"
                class="bi bi-person-fill-gear" viewBox="0 0 16 16">
                <path
                    d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4m9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382zM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0" />
            </svg>
        </div>
    </footer>

    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Nuovi Proggetti</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="w-100 h-100 p-3">

                        <div class="card rounded-4">
                            <div class="card-body">
                                <div class="d-flex justify-content-center align-items-center" style="height: 100%;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor"
                                        class="bi bi-terminal-plus" viewBox="0 0 16 16">
                                        <path
                                            d="M2 3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h5.5a.5.5 0 0 1 0 1H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v4a.5.5 0 0 1-1 0V4a1 1 0 0 0-1-1z" />
                                        <path
                                            d="M3.146 5.146a.5.5 0 0 1 .708 0L5.177 6.47a.75.75 0 0 1 0 1.06L3.854 8.854a.5.5 0 1 1-.708-.708L4.293 7 3.146 5.854a.5.5 0 0 1 0-.708M5.5 9a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5" />
                                    </svg>
                                </div>
                                <form id="formNewProject">
                                    <h2 class="text-center mb-5">Nuovo Progetto</h2>
                                    <h6 class="text-center mb-3">Chatbot Intelligente</h6>

                                    <div class="form-group" id="InputPM">
                                        <label>
                                            <h4>Id Proggetto</h4>
                                        </label>
                                        <input id="id_prog" name="id_prog" type="number" class="form-control mb-4 mt-2"
                                            placeholder="ID Proggetto" required>
                                        <label>
                                            <h4>Project Manager</h4>
                                        </label>
                                        <input id="pm_id" name="pm_id" type="number" class="form-control mb-4 mt-2"
                                            placeholder="ID del PM" required>

                                        <label>
                                            <h4>Sviluppatori</h4>
                                        </label>
                                        <input id="idS1" name="sviluppatori[]" type="number" class="form-control mb-2"
                                            placeholder="ID Sviluppatore 1" required>
                                        <input id="idS2" name="sviluppatori[]" type="number" class="form-control mb-2"
                                            placeholder="ID Sviluppatore 2" required>
                                        <input id="id3" name="sviluppatori[]" type="number" class="form-control mb-4"
                                            placeholder="ID Sviluppatore 3" required>
                                    </div>

                                    <button id="assegnaProg" type="submit" class="btn btn-primary">Assegna</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>

        $(document).ready(function () {

            $.get('http://localhost:3000/progetti/1/partecipanti', function (data) {
                data.forEach(part1 => {
                    $("#contentModalEcommerce").append(`<li>${part1.role}</li>`);
                    $("#contentModalEcommerce").append(`<li>${part1.nome}</li>`);
                    $("#contentModalEcommerce").append(`<li>${part1.cognome}</li><br><br>`);
                });
            });

            $.get('http://localhost:3000/progetti/2/partecipanti', function (data) {
                data.forEach(part2 => {
                    $("#contentModalDipendenti").append(`<li>${part2.role}</li>`);
                    $("#contentModalDipendenti").append(`<li>${part2.nome}</li>`);
                    $("#contentModalDipendenti").append(`<li>${part2.cognome}</li><br><br>`);
                });
            });


            $.get('http://localhost:3000/progetti/3/partecipanti', function (data) {
                data.forEach(part2 => {
                    $("#coontentModalApp").append(`<li>${part2.role}</li>`);
                    $("#coontentModalApp").append(`<li>${part2.nome}</li>`);
                    $("#coontentModalApp").append(`<li>${part2.cognome}</li><br><br>`);
                });
            });

            $.get('http://localhost:3000/progetti/4/partecipanti', function (data) {
                data.forEach(part3 => {
                    $("#contentModalChatbot").append(`<li>${part3.role}</li>`);
                    $("#contentModalChatbot").append(`<li>${part3.nome}</li>`);
                    $("#contentModalChatbot").append(`<li>${part3.cognome}</li><br><br>`);
                });
            });

            $('#formNewProject').submit(function (event) {
                event.preventDefault();

                const formData = $(this).serialize();

                $.ajax({
                    url: 'http://localhost:3000/progetti/assegna',
                    type: 'POST',
                    data: formData,
                    success: function (response) {
                        $('#formNewProject')[0].reset();
                        Swal.fire("Aggiunto", "Dipendenti assegnati con successo", "success");
                    },
                    error: function (err) {
                        Swal.fire('Errore', 'Qualcosa è andato storto.', 'error');
                        console.error(err);
                    }
                });
            });


        })

    </script>
</body>

</html>